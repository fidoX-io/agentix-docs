---
title: 'Define MCP Tools'
description: 'Configure Model Context Protocol tools for AI agent interactions'
icon: 'robot'
---

# Define MCP Tools

Configure Model Context Protocol (MCP) tools that enable AI agents to interact with external systems and perform complex operations.

## What are MCP Tools?

Model Context Protocol tools are specialized interfaces that allow AI agents to:

- Access external APIs and databases
- Perform file operations and data processing
- Execute system commands safely
- Integrate with third-party services
- Maintain context across interactions

<Note>
MCP tools provide a standardized way for AI agents to interact with the world beyond their training data.
</Note>

## MCP Tool Types

<CardGroup cols={2}>
  <Card title="Resource Tools" icon="database">
    Access and retrieve information from external sources
  </Card>
  <Card title="Action Tools" icon="play">
    Perform operations and execute commands
  </Card>
  <Card title="Prompt Tools" icon="message">
    Generate and process prompts for other AI models
  </Card>
  <Card title="Context Tools" icon="brain">
    Manage and maintain conversation context
  </Card>
</CardGroup>

## Tool Configuration

### Basic MCP Tool Structure

```json
{
  "name": "file_search",
  "description": "Search for files matching specified criteria",
  "type": "resource",
  "schema": {
    "type": "object",
    "properties": {
      "path": {
        "type": "string",
        "description": "Directory path to search"
      },
      "pattern": {
        "type": "string",
        "description": "File name pattern to match"
      },
      "recursive": {
        "type": "boolean",
        "default": true,
        "description": "Search subdirectories recursively"
      }
    },
    "required": ["path", "pattern"]
  }
}
```

### Authentication and Security

<Tabs>
  <Tab title="API Key Authentication">
    Simple API key-based authentication for service access
  </Tab>
  <Tab title="OAuth 2.0">
    Secure OAuth flow for third-party integrations
  </Tab>
  <Tab title="Certificate-based">
    Client certificate authentication for enterprise systems
  </Tab>
  <Tab title="Custom Authentication">
    Custom authentication schemes for proprietary systems
  </Tab>
</Tabs>

## Resource Tools

### Data Retrieval Tools

Configure tools for accessing external data:

```yaml
resource_tools:
  database_query:
    type: "resource"
    description: "Execute SQL queries against configured databases"
    parameters:
      connection_name: "string"
      query: "string"
      parameters: "object"
    security:
      require_authentication: true
      allowed_operations: ["SELECT", "WITH"]
      query_timeout: 30

  api_fetch:
    type: "resource"
    description: "Fetch data from REST APIs"
    parameters:
      url: "string"
      method: "string"
      headers: "object"
      body: "object"
    security:
      allowed_domains: ["api.example.com", "secure.api.com"]
      rate_limit: "100/hour"
```

### File System Access

<AccordionGroup>
  <Accordion title="File Reading">
    Read files with proper access controls and content filtering
  </Accordion>
  <Accordion title="Directory Listing">
    List directory contents with permission checks
  </Accordion>
  <Accordion title="File Search">
    Search for files using patterns and metadata
  </Accordion>
  <Accordion title="Content Analysis">
    Analyze file contents for information extraction
  </Accordion>
</AccordionGroup>

## Action Tools

### System Operations

Define tools for performing system actions:

```json
{
  "action_tools": {
    "send_email": {
      "type": "action",
      "description": "Send email messages through configured SMTP",
      "parameters": {
        "to": {"type": "array", "items": {"type": "string"}},
        "subject": {"type": "string"},
        "body": {"type": "string"},
        "attachments": {"type": "array", "optional": true}
      },
      "security": {
        "require_approval": true,
        "allowed_recipients": ["@company.com"],
        "content_filtering": true
      }
    },
    "create_ticket": {
      "type": "action",
      "description": "Create support tickets in external systems",
      "parameters": {
        "title": {"type": "string"},
        "description": {"type": "string"},
        "priority": {"type": "string", "enum": ["low", "medium", "high"]},
        "assignee": {"type": "string", "optional": true}
      }
    }
  }
}
```

### Workflow Integration

Connect MCP tools with Agentix workflows:

<Warning>
Ensure proper validation and security measures for all action tools that modify external systems.
</Warning>

1. **Trigger Events**: Tools can trigger workflow execution
2. **Data Passing**: Pass tool results to workflow steps
3. **Error Handling**: Manage tool failures gracefully
4. **Monitoring**: Track tool usage and performance

## Prompt Tools

### AI Model Integration

Configure tools for working with AI models:

```yaml
prompt_tools:
  text_summarization:
    type: "prompt"
    description: "Summarize long text content"
    model: "gpt-4"
    prompt_template: |
      Please summarize the following text, focusing on key points and main ideas:
      
      {{input_text}}
      
      Summary:
    parameters:
      max_length: 500
      style: "bullet_points"

  sentiment_analysis:
    type: "prompt"
    description: "Analyze sentiment of text content"
    model: "claude-3"
    prompt_template: |
      Analyze the sentiment of this text and provide a score from -1 (very negative) to 1 (very positive):
      
      {{text}}
      
      Sentiment score and explanation:
```

### Context Management

<CardGroup cols={2}>
  <Card title="Memory Tools" icon="brain">
    Store and retrieve conversation context
  </Card>
  <Card title="State Management" icon="list">
    Track multi-step process state
  </Card>
  <Card title="History Tools" icon="clock">
    Access previous interactions and decisions
  </Card>
  <Card title="Preference Tools" icon="user">
    Remember user preferences and settings
  </Card>
</CardGroup>

## Security and Compliance

### Access Controls

Implement proper security for MCP tools:

```json
{
  "security_config": {
    "tool_permissions": {
      "file_access": {
        "allowed_paths": ["/data/public", "/tmp"],
        "denied_patterns": ["*.key", "*.secret"],
        "max_file_size": "10MB"
      },
      "api_access": {
        "rate_limits": {
          "requests_per_minute": 60,
          "requests_per_hour": 1000
        },
        "allowed_methods": ["GET", "POST"],
        "require_ssl": true
      }
    }
  }
}
```

### Audit and Monitoring

Track MCP tool usage:

<Note>
All MCP tool interactions are logged for security and compliance purposes.
</Note>

- Tool execution logs
- Parameter validation
- Success/failure tracking
- Performance metrics
- Security events

## Testing MCP Tools

### Unit Testing

Test individual tool functions:

```python
def test_file_search_tool():
    result = mcp_tool_executor.execute(
        tool_name="file_search",
        parameters={
            "path": "/test/data",
            "pattern": "*.txt",
            "recursive": True
        }
    )
    assert result.status == "success"
    assert len(result.files) > 0
```

### Integration Testing

Test tools within AI agent workflows:

```yaml
test_scenario:
  description: "Test MCP tool integration in agent workflow"
  steps:
    - agent_message: "Search for configuration files"
    - expected_tool_call: "file_search"
    - expected_parameters:
        pattern: "*.config"
    - validate_response: true
```

## Best Practices

### Tool Design

1. **Clear Purpose**: Each tool should have a specific, well-defined function
2. **Robust Validation**: Validate all inputs thoroughly
3. **Error Handling**: Provide meaningful error messages
4. **Documentation**: Include comprehensive usage examples
5. **Performance**: Optimize for the expected usage patterns

### Security Considerations

- Implement principle of least privilege
- Validate and sanitize all inputs
- Use secure communication protocols
- Regular security audits and updates
- Monitor for unusual usage patterns
